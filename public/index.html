<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    
    <!--====== Title ======-->
    <title>Tron</title>
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--====== Favicon Icon ======-->
    <link rel="shortcut icon" href="assets/images/favicon.png" type="image/png">
        
    <!--====== Animate CSS ======-->
    <link rel="stylesheet" href="assets/css/animate.css">
        
    <!--====== Magnific Popup CSS ======-->
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
        
    <!--====== Slick CSS ======-->
    <link rel="stylesheet" href="assets/css/slick.css">
        
    <!--====== Line Icons CSS ======-->
    <link rel="stylesheet" href="assets/css/LineIcons.css">
        
    <!--====== Font Awesome CSS ======-->
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
        
    <!--====== Bootstrap CSS ======-->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    
    <!--====== Default CSS ======-->
    <link rel="stylesheet" href="assets/css/default.css">
    
    <!--====== Style CSS ======-->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="form/style.css">
    
</head>

<body>
    <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->    
   
   
    <!--====== PRELOADER PART START ======-->

    <div class="preloader">
        <div class="loader">
            <div class="ytp-spinner">
                <div class="ytp-spinner-container">
                    <div class="ytp-spinner-rotator">
                        <div class="ytp-spinner-left">
                            <div class="ytp-spinner-circle"></div>
                        </div>
                        <div class="ytp-spinner-right">
                            <div class="ytp-spinner-circle"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--====== PRELOADER PART ENDS ======-->
    
    <!--====== HEADER PART START ======-->
    
    <header class="header-area">
        <div class="navbar-area">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <nav class="navbar navbar-expand-lg">
                            <a class="navbar-brand" href="index.html">
                                <img src="assets/images/logo.svg" alt="Logo">
                            </a>
                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="toggler-icon"></span>
                                <span class="toggler-icon"></span>
                                <span class="toggler-icon"></span>
                            </button>

                            <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
                                <ul id="nav" class="navbar-nav ml-auto">
                                    <li class="nav-item active">
                                        <a class="page-scroll" href="#home">Home</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="page-scroll" href="#features">Features</a>
                                    </li>
                                    
                                </ul>
                            </div> <!-- navbar collapse -->
                            
                            
                        </nav> <!-- navbar -->
                    </div>
                </div> <!-- row -->
            </div> <!-- container -->
        </div> <!-- navbar area -->
        
        <div id="home" class="header-hero bg_cover" style="background-image: url(assets/images/banner-bg.svg)">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="header-hero-content text-center">
                            <h3 class="header-sub-title wow fadeInUp" data-wow-duration="1.3s" data-wow-delay="0.2s">TRON</h3>
                            
                            <p class="text wow fadeInUp" data-wow-duration="1.3s" data-wow-delay="0.8s">One stop destination for all events</p>
                            
                        </div> <!-- header hero content -->
                    </div>
                </div> <!-- row -->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="header-hero-image text-center wow fadeIn" data-wow-duration="1.3s" data-wow-delay="1.4s">
                            <img src="assets/images/header-hero.png" alt="hero">
                        </div> <!-- header hero image -->
                    </div>
                </div> <!-- row -->
            </div> <!-- container -->
            <div id="particles-1" class="particles"></div>
        </div> <!-- header hero -->
    </header>
    
    <!--====== HEADER PART ENDS ======-->
    
   
    
    <!--====== SERVICES PART START ======-->
    
    <section id="features" class="services-area pt-120">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="section-title text-center pb-40">
                        <div class="line m-auto"></div>
                        <h3 class="title">Events, <span> are waiting for you !</span></h3>
                    </div> <!-- section title -->
                </div>
            </div> <!-- row -->
            <div class="row justify-content-center events">
                 <!-- single services -->
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </section>
    
    <!--====== SERVICES PART ENDS ======-->
    <div class="modal" id="my_Modal">
        <div class=" modal-dialog" style="margin: 0px;">
            <div class="modal-content" style="margin-left: 100px;width:1400px ;height: 700px;margin-top: 50px;">


                <!-- Modal body -->
                <div class="modal-body" style="left: 0em; width:1400px ;height: 600px;">

                    <div class="multisteps-form" style="width:1400px ;height: 600px;">
                        <!--progress bar-->
                        <div class="row">
                            <div class="col-12 col-lg-8 ml-auto mr-auto mb-4" style="margin: 0px;">
                                <div class="multisteps-form__progress">
                                    <button class="multisteps-form__progress-btn js-active" type="button"
                                        title="User Info">Event
                                        Info</button>
                                    
                                    <button class="multisteps-form__progress-btn" type="button"
                                        title="Order Info">Success</button>
                                </div>
                            </div>
                        </div>
                        <!--form panels-->
                        <div class="row" style="margin:0px">
                            <div class="col-12 col-lg-8 m-auto">
                                <form class="multisteps-form__form" >
                                    <!--single form panel-->
                                    <div class="multisteps-form__panel shadow p-4 rounded bg-white js-active"
                                        data-animation="scaleIn" style="height: 600px;">
                                        <h3 class="multisteps-form__title">Event Info</h3>
                                        <div class="multisteps-form__content">
                                            <div class="form-row mt-4">
                                                <div class="col-12 col-sm-6">
                                                    <input class="multisteps-form__input form-control" type="text" id="e_id"
                                                         hidden/>
                                                    <input class="multisteps-form__input form-control" type="text" id="fname"
                                                        placeholder="Full Name" />
                                                </div>
                                                <div class="col-12 col-sm-6 mt-4 mt-sm-0">
                                                    <input class="multisteps-form__input form-control" type="text"id="email"
                                                        placeholder="Email" />
                                                </div>
                                            </div>
                                            <div class="form-row mt-4">
                                                <div class="col-12 col-sm-6">
                                                    <input class="multisteps-form__input form-control" type="text"id="no"
                                                        placeholder="Mobile No." />
                                                </div>
                                                <div class="col-12 col-sm-6 mt-4 mt-sm-0">
                                                    <input class="multisteps-form__input form-control" type="text"id="tic"
                                                        placeholder="No.of Ticket" />
                                                </div>
                                            </div>
                                            <div class="form-row mt-4">
                                                
                                                <span class="input-group-btn">

                                                    <input type="file" class="file-upload" name="myFile" id="imgInp"/>
                                                    </button>
                                                    <img id="blah" src="#" style="width: 250px;height: 150px;"/>
                                                </span>
                                            </div>
                                            <div class="form-row mt-4">
                                                <div class="col-12 col-sm-6 mt-4 mt-sm-0">
                                                    <label for="region">REGISTRATION TYPE :</label>
                                                    <select id="region"
                                                        style="width: 100%;  padding: 12px 20px;  margin: 8px 0;  display: inline-block; border: 1px solid #ccc;  border-radius: 4px;  box-sizing: border-box;">
                                                        <option value="SELF" selected="selected">SELF</option>
                                                        <option value="GROUP">GROUP</option>
                                                        <option value="CORPORATE">CORPORATE</option>

                                                        <option value="OTHER">OTHER</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="button-row d-flex mt-4">
                                                <button class="btn btn-primary ml-auto js-btn-next" type="button" onclick="sendInterest();"
                                                    title="Next" >Send</button>
                                            </div>
                                        </div>
                                    </div>
                                    

                                    <!--single form panel-->
                                    <div class="multisteps-form__panel shadow p-4 rounded bg-white"
                                        data-animation="scaleIn">
                                        <h3 class="multisteps-form__title">Success</h3>
                                        <div class="multisteps-form__content">
                                            <div class="form-row mt-4">
                                                <h1 >REGISTRATION ID : <h1 id="r_success"></h1></h1>
                                            </div>
                                            <div class="button-row d-flex mt-4">
                                                <button class="btn btn-primary js-btn-prev" type="button"
                                                    title="Prev">Prev</button>

                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                </div>
    </div>
    
    <!--====== FOOTER PART START ======-->
    
    <footer id="footer" class="footer-area pt-120">
        <div class="container">
           
            <div class="footer-widget pb-100">
                <div class="row">
                    <div class="col-lg-4 col-md-6 col-sm-8">
                        <div class="footer-about mt-50 wow fadeIn" data-wow-duration="1s" data-wow-delay="0.2s">
                            
                            <p class="text">TRON.An Immortal's Product. </p>
                            
                        </div> <!-- footer about -->
                    </div>
                    
                    </div>
                </div> <!-- row -->
            </div> <!-- footer widget -->
            <div class="footer-copyright">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="copyright d-sm-flex justify-content-between">
                            <div class="copyright-content">
                                
                            </div> <!-- copyright content -->
                        </div> <!-- copyright -->
                    </div>
                </div> <!-- row -->
            </div> <!-- footer copyright -->
        </div> <!-- container -->
        <div id="particles-2"></div>
    </footer>
    
    <!--====== FOOTER PART ENDS ======-->
    
    <!--====== BACK TOP TOP PART START ======-->

    <a href="#" class="back-to-top"><i class="lni-chevron-up"></i></a>

    <!--====== BACK TOP TOP PART ENDS ======-->   
    
    <!--====== PART START ======-->
    
<!--
    <section class="">
        <div class="container">
            <div class="row">
                <div class="col-lg-"></div>
            </div>
        </div>
    </section>
-->
    
    <!--====== PART ENDS ======-->




    <!--====== Jquery js ======-->
    <script src="form/script.js"></script>
    <script src="assets/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="assets/js/vendor/modernizr-3.7.1.min.js"></script>
    
    <!--====== Bootstrap js ======-->
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    
    <!--====== Plugins js ======-->
    <script src="assets/js/plugins.js"></script>
    
    <!--====== Slick js ======-->
    <script src="assets/js/slick.min.js"></script>
    
    <!--====== Ajax Contact js ======-->
    <script src="assets/js/ajax-contact.js"></script>
    
    <!--====== Counter Up js ======-->
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    
    <!--====== Magnific Popup js ======-->
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    
    <!--====== Scrolling Nav js ======-->
    <script src="assets/js/jquery.easing.min.js"></script>
    <script src="assets/js/scrolling-nav.js"></script>
    
    <!--====== wow js ======-->
    <script src="assets/js/wow.min.js"></script>
    
    <!--====== Particles js ======-->
    <script src="assets/js/particles.min.js"></script>
    
    <!--====== Main js ======-->
    <script src="assets/js/main.js"></script>
    <script>
         $(document).ready(() => {
                        getEvents()
                    })
                    let Nevents
                    const getEvents = async () => {
                        let result = await fetch('https://event--registration.herokuapp.com/api/createEvent', {
                        })
                        result = await result.json()
                        console.log(result)
                        const fetchedEvents = result.events
                        let element = ""

                        for (let i = 0; i < fetchedEvents.length; i++) {

                            let e = `<div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="single-services text-center mt-30 wow fadeIn" data-wow-duration="1s" data-wow-delay="0.2s">
                        <div class="services-icon">
                            <img class="shape" src="assets/images/services-shape.svg" alt="shape">
                            <img class="shape-1" src="assets/images/services-shape-1.svg" alt="shape">
                            <i class="lni-baloon"></i>
                        </div>
                        <div class="services-content mt-30">
                            <h4 class="services-title"><a href="#">${fetchedEvents[i].eventName}</a></h4>
                            <p class="text">Venue : ${fetchedEvents[i].venue}</p>
                            <p class="text">Date : ${fetchedEvents[i].date}</p>
                            <p class="text">${fetchedEvents[i].eventType}</p><br>

                            <button type="button" class="btn btn-success" onclick="new1('${fetchedEvents[i]._id}');">Interested</button>
                        </div>
                    </div> <!-- single services -->
                </div>`
                            element = element + e
                        }
                        $('.events').empty()
                        $('.events').append(element)
                        Nevents = element
                    }

                    function new1(id) {
                        $("#my_Modal").modal()
                        $('#e_id').val(id)
                        console.log(id)
                    }

                    function readURL(input) {
                        if (input.files && input.files[0]) {
                            var reader = new FileReader();
                            
                            reader.onload = function(e) {
                            $('#blah').attr('src', e.target.result);
                            }
                            
                            reader.readAsDataURL(input.files[0]); // convert to base64 string
                        }
                        }

                        $("#imgInp").change(function() {
                        readURL(this);
                        });

const sendInterest = async () => {
    let obj ={
        "eventId":$('#e_id').val(),
        "fullName":$('#fname').val(),
        "email":$('#email').val(),
        "registrationType":$('#region').val(),
        "phoneNumber":$('#no').val(),
        "ticketCount":$('#tic').val()
    }
    console.log(obj)
    let result = await fetch('https://event--registration.herokuapp.com/api/interested', {
        method :"POST",
        headers : {
            'Content-Type' : 'application/json'
        },
        body : JSON.stringify(obj)
    })
    const json = await result.json()
    console.log(json)
    $('#r_success').text(json.result._id)
}


    </script>
    
</body>

</html>
